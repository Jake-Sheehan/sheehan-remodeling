---
import Layout from "../layouts/Layout.astro";
import PageBanner from "../components/Page-Banner.astro";
import type { EntryFieldTypes } from "contentful";
import { contentful_client } from "../lib/contentful";

interface ContactUsSkeleton {
    contentTypeId: "contactInfo";
    fields: {
        name: EntryFieldTypes.Text;
        phone: EntryFieldTypes.Text;
        email: EntryFieldTypes.Text;
    };
}

const data = await contentful_client.getEntry<ContactUsSkeleton>(
    import.meta.env.CONTACT_US_ENTRY_ID,
);

const { name, phone, email } = data.fields;
---

<Layout title="Contact">
    <section id="contact">
        <PageBanner title="contact us" />
        <dl>
            <dt class="phone">call {name} at:</dt>
            <dd class="phone">{phone}</dd>
            <dt class="email">email:</dt>
            <dd class="email">{email}</dd>
        </dl>
    </section>
</Layout>

<style>
    dl,
    dt,
    dd {
        margin: 0;
    }

    dl {
        display: grid;
        grid-template-columns: [title-start] 1fr [title-end data-start] 1fr [data-end];
        grid-template-rows: [phone-start] auto [phone-end email-start] auto [email-end];
        font-size: 1.2rem;
    }

    dt {
        text-transform: capitalize;
        font-weight: bold;
        grid-column: title;
    }

    dd {
        grid-column: data;
    }

    .phone {
        grid-row: phone;
    }

    .email {
        grid-row: email;
    }
</style>
